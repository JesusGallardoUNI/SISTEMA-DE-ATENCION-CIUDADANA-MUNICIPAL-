function procesarClave() {
    const claveReporte = document.getElementById('claveReporte').value.trim();
    const [estado, municipio, idColonia, idTipoReporte, numPila] = claveReporte.split(/[/ -]+/).map(Number);

    let estadoNombre = (estado === 20) ? "Nuevo León" : "NULL";
    let municipioNombre = (municipio === 24) ? "Guadalupe" : "NULL";
    let coloniaNombre = "NULL";

    const colonias = ["10 de Mayo", "13 de Mayo", "15 de Mayo", "18 de Marzo", "20 de Noviembre", "21 de Enero", "23 de Noviembre", "25 de Noviembre", "29 de Julio", "2 de Junio", "31 de Diciembre", "3 Caminos", "3 Caminos Norte", "5 de Enero", "Acapulco", "Acueducto Guadalupe", "Adolfo Prieto", "Adolfo Prieto Sector 2", "Adolfo Prieto Sector 3", "Adolfo Prieto Sector 4", "Agua Nueva", "Alamedas de la Hacienda", "Alfonso Martinez Domínguez", "Almaguer", "Almendros", "Altos San Roque (Fomerrey 26)", "América", "América Obrera", "Ampliación México Nuevo", "Aragonés", "Arboledas de Acapulco", "Arboledas de Corregidora", "Arboledas de la Silla", "Arboledas del Oriente", "Arboledas de San Miguel", "Arboledas de Santa Cecilia", "Arboledas Nueva Lindavista", "Atoyac de Álvarez", "Azteca", "Azteca INFONAVIT", "Balcones de San Miguel", "Bello Amanecer Residencial", "Benito Juárez", "Bosques de la Pastora", "Bosques de la Silla", "Bosques del Contry", "Bosques del Oriente", "Bosques del Rey", "Bugambilias de la Sierra", "Burócratas Municipales", "Camino Real", "Camino Real FOVISSSTE", "Campestre la Silla", "Cañada Blanca", "Cañón de la Silla", "Carmen Serdán", "Central de Abastos", "Central de Carga", "Centroamérica", "Centro SCT Nuevo León", "Cerradas de Bugambilias", "Cerradas de la Silla", "Cerradas de Lindavista", "Cerro Azul", "Cerro de la Silla", "Cerro de la Silla UC", "Chinameca", "Chula Vista", "Ciudad Cnop", "Ciudad CROC", "Ciudad Guadalupe Centro", "Colibrí 1", "Colibrí 2", "Colibrí 3", "Colinas de Guadalupe", "Colinas de la Silla", "Colinas del Rey", "Collados de Guadalupe", "Collados de Guadalupe 2do. Sector", "Coloniales San Miguel", "Coloniales San Miguel Sector 1", "Condado de Santa Lucía", "Condocasa Lindavista", "Cóndor", "Contry la Costa", "Contry la Escondida", "Contry la Silla", "Contry los Encinos", "Contry los Nogales", "Contry Sol", "Cortijo la Silla", "Crispín Treviño", "Cuesta Verde", "David Cavazos", "Del Maestro", "Díaz Ordaz", "División del Norte", "Dos Ríos", "Dr. Ángel Martinez Villarreal", "Eduardo Caballero", "El Bajío", "El Milagro", "El Peñón", "El Quetzal", "El Sabino", "Emiliano Zapata (Fomerrey 18)", "Encino de la Silla", "Escamilla", "Esmeralda", "Evolución", "Expo Ganadera", "Exposición", "Exposición Modelo", "Faisanes Sur", "Felipe Ángeles", "Finsa", "Fomerrey 20 (2 de Mayo)", "Fomerrey 3", "Fomerrey 32", "Fresnos la Silla", "Fuentes de Guadalupe", "Fuentes de San Miguel", "Galerías del Camino Real 1er. Sector", "Galerías del Camino Real 2o. Sector", "Garza Melo", "Gloria Mendiola", "Granjitas la Silla", "Guadalupe Avante", "Guadalupe Chávez", "Guadalupe la Silla", "Guadalupe Victoria", "Guadalupe Zitoon", "Guajardo", "Guerra", "Hacienda de Guadalupe", "Hacienda las Escobas", "Hacienda la Silla", "Hacienda los Encinos", "Hacienda los Lerma 1er. Sector", "Hacienda los Lerma 2do. Sector", "Hacienda San Miguel", "Hacienda San Sebastián", "Hércules", "Huerta de Guadalupe", "Ignacio Allende", "Ignacio Altamirano", "Ignacio Zaragoza", "Industrial Jardines San Rafael", "Industrial la Silla", "INFONAVIT Benito Juárez", "Insurgentes", "Jardines de Andalucía", "Jardines de Casa Blanca", "Jardines de Lindavista", "Jardines del Río", "Jardines de San Miguel", "Jardines de San Rafael", "Jardines de Santa Clara", "Jardines de Tolteca", "Jardines de Xochimilco", "Jardines Guadalupe", "Jardines la Pastora", "Jardines la Victoria", "Jardines Nueva Lindavista", "Josefa Ortiz de Dominguez", "Josefa Zozaya", "José Luis Mora", "José María Morelos", "Juan Álvarez", "Kalos", "La Alianza de Ruteros", "La Amistad", "La Comedia", "La Condesa", "La Floresta", "La Fuente", "La Hacienda", "La Herradura", "La Huerta", "La Joya INFONAVIT 1er. Sector", "La Joya INFONAVIT 2do. Sector", "La Joya INFONAVIT 3er. Sector", "La Joya INFONAVIT 4to. Sector", "La Joya INFONAVIT 5to. Sector", "La Joyita", "La Luz", "La Pastora", "La Playa", "La Playita", "La Purísima", "La Quinta", "La Roca", "Las Águilas", "Las Américas", "Las Avenidas", "Las Canteras", "Las Colinas", "Las Dalias", "Las Escobas", "Las Flores", "La Silla", "Las Palmas", "Las Plazas 1", "Las Plazas 2", "Las Plazas 3", "Las Sabinas (Solidaridad Fomerrey)", "Las Villas", "La Talaverna Modulo Social FOVISSSTE", "La Trinidad", "La Victoria", "Leon XIII", "Libertad", "Libertadores de América", "Lindavista", "Lolyta", "Lomas de la Silla (Fomerrey 14)", "Lomas de San Miguel", "Lomas de San Roque", "Lomas de Tolteca", "Loma Verde", "Los Ángeles", "Los Canelos", "Los Cristales", "Los Cristales 3er. Sector", "Los Delfines", "Los Encinos", "Los Faisanes", "Los Faisanes Sector el Dorado", "Los Independientes", "Los Lermas", "Los Manantiales", "Los Olivos", "Los Sauces", "Lucio Blanco", "Luis Donaldo Colosio", "María Teresa", "Marte", "Maya", "Melchor Ocampo", "México 86", "Miguel de la Madrid", "Miguel Hidalgo", "Miguel Hidalgo (Fomerrey 19)", "Mirador de la Silla", "Mirasol", "Misión de Guadalupe", "Misión de la Silla", "Misión del Valle", "Misión Santa Cruz", "Misión Santa Fé", "Mixcoac", "Molino del Rey", "Morenita Guajardo", "Nexxus", "Niños Héroes", "Nueva Aurora", "Nueva Exposición", "Nueva Joya", "Nueva Libertad", "Nueva Lindavista", "Nueva Rosita", "Nuevo Almaguer", "Nuevo León", "Nuevo México", "Nuevo Milenio", "Nuevo San Miguel", "Nuevo San Rafael", "Nuevo San Sebastián", "Nuevo Santa María", "Nuevo Tamaulipas", "Orizaba", "Pablo Livas", "Paraíso", "Parque San Andrés", "Parques de Guadalupe", "Paseo de Guadalupe", "Paseo San Miguel", "Pedregal Contry", "Pedregal de Guadalupe", "Pedregal de Lindavista", "Pedregal de Linda Vista II", "Pedregal de Oriente", "Plan del Río", "Plaza San Antonio", "Polanco", "Polanco Oriente", "Policía Auxiliar", "Portal de la Hacienda", "Portal de Xochimilco", "Portales de la Silla", "Portales de la Silla 2do. Sector", "Praderas de Guadalupe", "Praderas de la Silla", "Praderas de San Rafael", "Privada Chapultepec", "Privada Laura", "Privada los Sabinos", "Privada Purísima", "Privada San Carlos", "Privada San Fernando", "Privada San Miguel", "Privadas de Contry", "Privadas de la Silla", "Privadas de Lindavista", "Privadas del Rey", "Privada Vicente Ferrer", "Progreso", "Provivienda", "Provivienda la Esperanza", "Puerta del Sol", "Puesta del Sol", "Punta Contry", "Rafael Ramírez", "Rafael Ramírez Sector II", "Rancho Viejo Sector 1", "Rancho Viejo Sector 2", "Raúl Caballero", "Real de Minas", "Real de San Miguel Sector 2", "Real de San Miguel Sector 3", "Real de San Miguel Sector 4", "Real de San Miguel Sector I", "Regio Parque Industrial Guadalupe", "Residencial Avante", "Residencial Azteca", "Residencial Cerro de la Silla", "Residencial Guadalupe", "Residencial las Quintas", "Residencial Minerva", "Residencial Mira Loma", "Residencial Real de la Silla", "Residencial San Antonio", "Residencial Santa Fé", "Residencial Santa María", "Residencial Torremolinos", "Revolución", "Reynosa", "Riberas de Dos Ríos", "Riberas del Contry", "Riberas del Río", "Rincón Colonial la Silla", "Rincón de Guadalupe", "Rincón de la Azteca", "Rincón de la Hacienda", "Rincón de la Primavera", "Rincón de la Purísima", "Rincón de la Sierra", "Rincón del Contry", "Rincón de los Sabinos", "Rincón la Silla", "Rincón Lindavista", "Río", "Rivera de la Pastora", "Rivera de Linda Vista", "Riveras de la Purísima", "Riveras de la Silla (Fomerrey 31)", "Riviera del Contry", "Roble Santa María", "Rosalinda", "Rosita", "Ruiz Cortínes", "Sabinitas", "San Agustín", "San Cristóbal", "San Diego", "Sandra Saavedra", "San Eduardo", "San Miguel", "San Rafael", "San Roberto", "San Sebastián", "Santa Bárbara", "Santa Clara", "Santa Cruz", "Santa Elena", "Santa Isabel", "Santa Margarita", "Santa María", "Scop", "SCT", "Serena", "Sierra Morena", "Simuplade", "Solidaridad", "Tacubaya", "Talaberna", "Tamaulipas", "Tierra Propia Sector 1", "Tierra Propia Sector 2", "Tolteca", "Torremolinos la Fé", "Torres de San Miguel", "Torres Lindavista", "Unidad Piloto", "Unión", "Unión Modelo", "Valle de Chapultepec", "Valle de Guadalupe", "Valle de las Sabinas", "Valle del Contry", "Valle de Lindavista", "Valle de los Encinos", "Valle del Sol", "Valle de San Andrés", "Valle de San Antonio", "Valle de San Roque", "Valle Hermoso", "Valle Hermoso Sector 2", "Valle Hermoso Sector 3", "Valle la Silla", "Valle San Miguel", "Valle San Rafael", "Valle San Roque", "Valles de Guadalupe", "Valles de la Silla", "Valle Soleado", "Valle Torremolinos", "Vaquerías", "Venus", "Vicente Ferrer", "Vicente Guerrero", "Viga", "Villa Alegre", "Villa de los Reyes", "Villa de San Miguel", "Villa Española", "Villa Olímpica", "Villa Pastora", "Villa San Antonio", "Villa San Sebastián", "Villas del Río", "Vista Sol", "Vivienda Popular", "Xochimilco", "Zertuche 1er. Sector", "Zertuche 2do. Sector", "Zozayita"
];
    
    if (idColonia > 0 && idColonia <= colonias.length) {
        coloniaNombre = colonias[idColonia - 1];
    }

    const tiposReporte = [
        "Agua potable, drenaje, alcantarillado, tratamiento y disposición de sus aguas residuales",
        "Alumbrado público",
        "Limpia, recolección, traslado, tratamiento y disposición final de residuos",
        "Mercados y centrales de abasto",
        "Panteones",
        "Rastro",
        "Calles, parques y jardines y su equipamiento",
        "Seguridad pública, en los términos del artículo 21 de esta Constitución, policía preventiva municipal y tránsito"
    ];

    let tipoReporte = (idTipoReporte > 0 && idTipoReporte <= tiposReporte.length) ? tiposReporte[idTipoReporte - 1] : "NULL";

    // Redireccionar y pasar los datos al siguiente formulario (página)
    const url = `Resuelto/Solucion.html?estado=${encodeURIComponent(estadoNombre)}&municipio=${encodeURIComponent(municipioNombre)}&colonia=${encodeURIComponent(coloniaNombre)}&reporte=${encodeURIComponent(tipoReporte)}`;
    window.location.href = url;
}
